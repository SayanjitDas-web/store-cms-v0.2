<%- include('../../../../src/views/partials/header_frontend') %>

    <div class="container mx-auto px-6 py-8">
        <nav class="text-sm font-medium text-gray-500 mb-6" aria-label="breadcrumb">
            <ol class="list-none p-0 inline-flex">
                <li class="flex items-center">
                    <a href="/" class="hover:text-gray-700">Home</a>
                    <svg class="fill-current w-3 h-3 mx-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
                        <path
                            d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z" />
                    </svg>
                </li>
                <li class="flex items-center">
                    <a href="/shop" class="hover:text-gray-700">Shop</a>
                    <svg class="fill-current w-3 h-3 mx-3" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 320 512">
                        <path
                            d="M285.476 272.971L91.132 467.314c-9.373 9.373-24.569 9.373-33.941 0l-22.667-22.667c-9.357-9.357-9.375-24.522-.04-33.901L188.505 256 34.484 101.255c-9.335-9.379-9.317-24.544.04-33.901l22.667-22.667c9.373-9.373 24.569-9.373 33.941 0L285.475 239.03c9.373 9.372 9.373 24.568.001 33.941z" />
                    </svg>
                </li>
                <li>
                    <span class="text-gray-700">
                        <%= product.name %>
                    </span>
                </li>
            </ol>
        </nav>

        <div class="md:flex md:items-start">
            <div class="w-full md:w-1/2 lg:w-1/2 mb-8 md:mb-0">
                <% if(product.image) { %>
                    <img src="<%= product.image %>" class="w-full rounded-lg shadow-lg object-cover"
                        alt="<%= product.name %>" style="max-height: 500px;">
                    <% } else { %>
                        <div
                            class="bg-gray-200 text-gray-500 w-full h-96 flex items-center justify-center rounded-lg shadow-inner">
                            <span class="text-xl">No Image</span>
                        </div>
                        <% } %>
            </div>
            <div class="w-full md:w-1/2 lg:w-1/2 md:pl-12">
                <h1 class="text-3xl font-bold text-gray-800 mb-4">
                    <%= product.name %>
                </h1>
                <div class="text-2xl font-bold text-indigo-600 mb-6">$<%= product.price.toFixed(2) %>
                </div>

                <div class="mb-6 flex items-center">
                    <% if(product.stock> 0) { %>
                        <div
                            class="flex items-center px-3 py-1 rounded-full bg-green-100 text-green-800 text-sm font-medium">
                            <span class="w-2 h-2 mr-2 bg-green-500 rounded-full"></span>
                            <%= product.stock %> in stock
                        </div>
                        <% } else { %>
                            <div
                                class="flex items-center px-3 py-1 rounded-full bg-red-100 text-red-800 text-sm font-medium">
                                <span class="w-2 h-2 mr-2 bg-red-500 rounded-full"></span>
                                Out of Stock
                            </div>
                            <% } %>
                </div>

                <div class="prose max-w-none text-gray-600 mb-8">
                    <%- product.description %>
                </div>

                <form action="/cart/add" method="POST" class="flex items-center space-x-4">
                    <input type="hidden" name="productId" value="<%= product._id %>">
                    <div class="flex items-center border rounded-md">
                        <button type="button" class="px-3 py-2 bg-gray-100 hover:bg-gray-200 border-r"
                            onclick="this.parentNode.querySelector('input[type=number]').stepDown()">-</button>
                        <input type="number" name="quantity" value="1" min="1"
                            class="w-16 text-center focus:outline-none appearance-none"
                            style="-moz-appearance: textfield; appearance: textfield;">
                        <button type="button" class="px-3 py-2 bg-gray-100 hover:bg-gray-200 border-l"
                            onclick="this.parentNode.querySelector('input[type=number]').stepUp()">+</button>
                    </div>
                    <button
                        class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2 px-6 rounded focus:outline-none focus:shadow-outline transition duration-200"
                        type="submit">
                        Add to Cart
                    </button>
                </form>
            </div>
        </div>
    </div>

    <%- include('../../../../src/views/partials/footer_frontend') %>